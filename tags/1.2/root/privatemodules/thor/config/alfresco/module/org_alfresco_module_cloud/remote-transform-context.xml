<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN 2.0//EN' 'http://www.springframework.org/dtd/spring-beans-2.0.dtd'>

<beans>

<!--  
    <bean id="RemoteAlfrescoTransformerResource" parent="managedResource">
        <property name="resource" ref="transformer.remoteAlfresco" />
        <property name="objectName">
            <value>Alfresco:Name=ContentTransformer,Type=remoteAlfresco</value>
        </property>
        <property name="managedInterfaces">
            <value>org.alfresco.repo.content.transform.RemoteAlfrescoTransformerI</value>
        </property>
    </bean>
-->    
    <!--  Start jodconverter/OpenOffice.org extractor/transformer Subsystem. -->
    <bean id="RemoteAlfrescoTransformer" class="org.alfresco.repo.management.subsystems.ChildApplicationContextFactory" parent="abstractPropertyBackedBean">
        <property name="autoStart">
            <value>true</value>
        </property>
    </bean>
    
    <!-- Import the JodConverter transformer worker from the OOoJodconverter subsystem -->
   <bean id="transformer.worker.remote.alfresco" class="org.alfresco.repo.management.subsystems.SubsystemProxyFactory">
      <property name="sourceApplicationContextFactory">
         <ref bean="RemoteAlfrescoTransformer" />
      </property>
      <property name="sourceBeanName">
         <value>transformer.worker.remote.alfresco</value>
      </property>
      <property name="interfaces">
         <list>
            <value>org.alfresco.module.org_alfresco_module_cloud.repo.content.transform.RemoteAlfrescoTransformerWorker</value>
         </list>
      </property>
   </bean>
   
   <bean id="transformer.remote.alfresco" class="org.alfresco.repo.content.transform.ProxyContentTransformer" parent="baseContentTransformer">
      <property name="worker">
         <ref bean="transformer.worker.remote.alfresco" />
      </property>
   </bean>

</beans>

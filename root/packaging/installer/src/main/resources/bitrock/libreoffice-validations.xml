<component>
	<name>libreofficevalidations</name>
	<description/>
	<detailedDescription/>
	<selected>1</selected>
	<show>0</show>
	<shouldPackRuleList>
		<isTrue value="${libreofficevalidations_component_enabled}"/>
	</shouldPackRuleList>
	<parameterList>
		<booleanParameter ask="0" name="libreofficevalidations_component_enabled" value="1"/>
	</parameterList>
	<componentSelectionValidationActionList/>
	<desktopShortcutList/>
	<initializationActionList>
		<actionGroup>
			<actionList>
				<setInstallerVariable name="continue_installation" value="yes"/>
				<showQuestion>
					<text>Some or all of the libraries necessary to support LibreOffice were not found on your system: fontconfig libSM libICE libXrender libXext libcups
You are strongly advised to abort this installation and install them first using your package manager.
For more information, please refer to http://docs.alfresco.com/4.2/topic/com.alfresco.enterprise.doc/concepts/install-lolibfiles.html

Do you want to continue with the installation?</text>
					<variable>continue_installation</variable>
					<default>no</default>
					<ruleEvaluationLogic>or</ruleEvaluationLogic>
					<ruleList>
						<ruleGroup>
							<ruleEvaluationLogic>and</ruleEvaluationLogic>
							<ruleList>
								<compareText logic="equals" nocase="1" text="debian" value="${linux_distribution}"/>
								<compareText logic="equals" nocase="1" text="Ubuntu" value="${linux_distribution_id}"/>
								<compareText logic="equals" nocase="1" text="10.04" value="${linux_distribution_release}"/>
								<ruleGroup>
									<ruleEvaluationLogic>or</ruleEvaluationLogic>
									<ruleList>
										<!-- Ubuntu 10.04 -->
										<fileTest condition="not_exists" path="/usr/lib/libICE.so.6"/>
										<fileTest condition="not_exists" path="/usr/lib/libSM.so.6"/>
										<fileTest condition="not_exists" path="/usr/lib/libXext.so.6"/>
										<fileTest condition="not_exists" path="/usr/lib/libXrender.so.1"/>
										<fileTest condition="not_exists" path="/usr/lib/libfontconfig.so.1"/>
										<fileTest condition="not_exists" path="/usr/lib/libcups.so.2"/>
										<fileTest condition="not_exists" path="/usr/lib/libGLU.so.1" />
									</ruleList>
								</ruleGroup>
							</ruleList>
						</ruleGroup>
						<ruleGroup>
							<ruleEvaluationLogic>and</ruleEvaluationLogic>
							<ruleList>
								<compareText logic="equals" nocase="1" text="debian" value="${linux_distribution}"/>
								<compareText logic="equals" nocase="1" text="Ubuntu" value="${linux_distribution_id}"/>
								<compareText logic="does_not_equal" nocase="1" text="10.04" value="${linux_distribution_release}"/>
								<ruleGroup>
									<ruleEvaluationLogic>or</ruleEvaluationLogic>
									<ruleList>
										<!-- Ubuntu >10.04-->
										<fileTest condition="not_exists" path="/usr/lib/x86_64-linux-gnu/libICE.so.6"/>
										<fileTest condition="not_exists" path="/usr/lib/x86_64-linux-gnu/libSM.so.6"/>
										<fileTest condition="not_exists" path="/usr/lib/x86_64-linux-gnu/libXext.so.6"/>
										<fileTest condition="not_exists" path="/usr/lib/x86_64-linux-gnu/libXrender.so.1"/>
										<fileTest condition="not_exists" path="/usr/lib/x86_64-linux-gnu/libfontconfig.so.1"/>
										<fileTest condition="not_exists" path="/usr/lib/x86_64-linux-gnu/libcups.so.2"/>
										<fileTest condition="not_exists" path="/usr/lib/x86_64-linux-gnu/libGLU.so.1" />
									</ruleList>
								</ruleGroup>
							</ruleList>
						</ruleGroup>
						<ruleGroup>
							<ruleEvaluationLogic>and</ruleEvaluationLogic>
							<ruleList>
								<compareText logic="does_not_equal" nocase="1" text="debian" value="${linux_distribution}"/>
								<ruleGroup>
									<ruleEvaluationLogic>or</ruleEvaluationLogic>
									<ruleList>
										<!-- RedHat & SuSE & Fedora & Amazon linux -->
										<fileTest condition="not_exists" path="/usr/lib64/libICE.so.6"/>
										<fileTest condition="not_exists" path="/usr/lib64/libSM.so.6"/>
										<fileTest condition="not_exists" path="/usr/lib64/libXext.so.6"/>
										<fileTest condition="not_exists" path="/usr/lib64/libXrender.so.1"/>
										<fileTest condition="not_exists" path="/usr/lib64/libfontconfig.so.1"/>
										<fileTest condition="not_exists" path="/usr/lib64/libcups.so.2"/>
										<fileTest condition="not_exists" path="/usr/lib64/libGLU.so.1" />
									</ruleList>
								</ruleGroup>
							</ruleList>
						</ruleGroup>
					</ruleList>
				</showQuestion>
				<exit>
					<ruleList>
						<compareText text="${continue_installation}" value="no"/>
					</ruleList>
				</exit>
			</actionList>
			<ruleList>
				<platformTest type="linux"/>
				<compareText logic="equals" text="${installer_ui}" value="text"/>
			</ruleList>
		</actionGroup>
	</initializationActionList>
</component>